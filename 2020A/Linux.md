# Linux

## vim

### 一般模式

#### 光标类

| 按键 | 功能 |
| ---- | ---- |
|h|光标向左|
|j|光标向下|
|k|光标向上|
|l|光标向右|
|ctrl+f|前页|
|ctrl+b|后页|
|n 空格| 光标向后移动n位|
|0(零)|光标到行首|
|$|光标到行末|
|H|当前页首行|
|M|当前页中间行|
|L|当前页末行|
|G|文件末行|
|nG|到第n行|
|gg|文件首行|
|n回车|向下移动n行|

#### 修改类

| 按键 | 功能 |
| ---- | ---- |
|x,X|x向后删除,X向前删除|
|nX|向前删除n字符|
|dd|删除当前行|
|ndd|删除当前以下n行|
|dnG|删除第n行到当前行|
|dG|删除当前到末尾行|
|yy|复制当前行|
|nyy|赋值当前以下n行|
|p,P|p粘贴到下一行,P粘贴到上一行|
|ynG|复制当前行到第n行的所有数据|
|yG|复制光标到文件尾所有数据|
|J|将当前行和下一行合并为一行|
|u|Undo|
|ctrl+r|Redo|
|.|重复上一操作|

#### 查找与替换

| 按键 | 功能 |
| ---- | ---- |
|/keyword|光标之后寻找keyword,n下一个,N上一个|
|?keyword|光标之前寻找keyword,n下一个,N上一个|
|:n1,n2s/w1/w2/g|在n1到n2之间将w1替换为w2,$表示最后一行,gc表示替换需要确认|

#### 进入编辑模式

| 按键 | 功能 |
| ---- | ---- |
|i|当前光标插入|
|I|当前行首插入|
|a|当前光标后插入|
|A|当前行末插入|
|o|下一行插入空行|
|O|上一行插入空行|
|r|替换光标所在字符,一次|
|R|一直替换光标所在字符,esc退出|

### 命令行模式

| 按键 | 功能 |
| ---- | ---- |
|:w|写入|
|:w!|强制写入|
|:q|退出|
|:q!|强制退出|
|:e!|还原文件|
|:w filename| 另存为|
|:r filename| 光标所在行下面插入文件|
|:set nu|设置行号|
|:set nonu|取消行号|
|:n1,n2 w filename| 把n1到n2间另存为|
|:! command|暂时退出vim,执行command后返回vim|

### 分割屏幕

`vim -On 文件名`,垂直分割为n个窗口,小写`o`是水平分割`ctrl+w+方向键切换`,`:only`设置当前窗口独占

### 多文件

`vim file1 file2 ...`
`:files`查看打开文件列表
`:N` 切换上一个
`:n` 切换下一个

### 选择

v:字符选择
V:行选择
ctrl+v:区块选择
y:赋值
d:删除
p:粘贴
